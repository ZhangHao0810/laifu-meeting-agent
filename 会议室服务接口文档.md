# 会议室服务接口文档

## 目录

1. [新增单个会议接口](#1-新增单个会议接口)
2. [修改单个会议接口](#2-修改单个会议接口)
3. [查看单个会议接口](#3-查看单个会议接口)
4. [取消单个会议接口](#4-取消单个会议接口)
5. [按天查询工作圈下会议](#5-按天查询工作圈下会议)
6. [按时间范围查询工作圈下会议](#6-按时间范围查询工作圈下会议)
7. [单个用户会议查询](#7-单个用户会议查询)
8. [查询该工作圈空闲的会议室](#8-查询该工作圈空闲的会议室)
9. [查询某个会议的与会人](#9-查询某个会议的与会人)

---

## 1. 新增单个会议接口

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/create?accessToken=xxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| openid | String | 是 | 会议发起人的id |
| title | String | 是 | 会议标题 |
| content | String | 否 | 会议内容 |
| meetingPlace | String | 否 | 会议室地址 |
| startDate | Long | 是 | 会议开始时间戳 |
| endDate | Long | 是 | 会议结束时间戳 |
| roomId | String | 否 | 会议室id |
| noticeTimes | array(number) | 否 | 提醒时间(-1:不提醒、0:开始时间提醒、15:开始时间前15分钟提醒、60:开始时间前1小时提醒) |
| actors | array(string) | 否 | 协作人oid的集合 |
| type | String | 否 | 会议类型(null:普通会议、sign:线下签到类会议、voice:语音类会议) |

### 请求示例

```json
{
  "openid": "5a67e08d00b0e8dfe4aab4fa",
  "title": "测试会议",
  "content": "新增会议测试",
  "meetingPlace": "云8会议室",
  "startDate": 1522729800000,
  "endDate": 1522737000000,
  "roomId": "xxxxx",
  "noticeTimes": [5, 15, 60],
  "actors": ["xxxxxx", "xxxxxx"],
  "type": "xxxx"
}
```

### 返回结果示例

```json
{
  "data": {
    "meetingId": "xxxxx"
  },
  "error": null,
  "errorCode": 0,
  "success": true
}
```

---

## 2. 修改单个会议接口

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/modify?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| id | String | 是 | 会议id |
| openid | String | 是 | 会议发起人的oid |
| title | String | 是 | 会议标题 |
| content | String | 否 | 会议内容 |
| meetingPlace | String | 否 | 会议室地址 |
| startDate | Long | 是 | 会议开始时间戳 |
| endDate | Long | 是 | 会议结束时间戳 |
| roomId | String | 否 | 会议室id |
| noticeTimes | array(number) | 否 | 提醒时间(-1:不提醒、0:开始时间提醒、15:开始时间前15分钟提醒、60:开始时间前1小时提醒) |
| actors | array(string) | 否 | 协作人oid的集合 |
| type | String | 否 | 会议类型(null:普通会议、sign:线下签到类会议、voice:语音类会议) |

### 请求示例

```json
{
  "id": "5ac2e3971834a1bc583d9bb8",
  "openid": "5a67e08d00b0e8dfe4aab4fa",
  "title": "测试会议",
  "content": "更新会议测试",
  "meetingPlace": "云8会议室",
  "startDate": 1522729800000,
  "endDate": 1522737000000,
  "roomId": "xxxxx",
  "noticeTimes": [5, 15, 60],
  "actors": ["xxxxxx", "xxxxxx"]
}
```

### 返回结果示例

```json
{
  "success": true,
  "errorCode": 0,
  "error": null,
  "data": null
}
```

---

## 3. 查看单个会议接口

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/detail?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| id | String | 是 | 会议id |

### 请求示例

```json
{
  "id": "5b33275f14cada62e4e44840"
}
```

---

## 4. 取消单个会议接口

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/cancel?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

> [!IMPORTANT]
> 必须是发起人创建的会议,才可以取消

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| id | String | 是 | 会议id |
| openid | String | 是 | 会议发起人的oid |

### 请求示例

```json
{
  "id": "5b33275f14cada62e4e44840",
  "openid": "5a67e08d00b0e8dfe4aab4fa"
}
```

### 返回结果示例

```json
{
  "success": true,
  "errorCode": 0,
  "error": null,
  "data": null
}
```

---

## 5. 按天查询工作圈下会议

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/queryByDay?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| day | long | 是 | 待查询的日期时间戳(当天任意时间戳都可以) |

### 请求示例

```json
{
  "day": 1533549600000
}
```

### 返回参数说明

| 参数 | 类型 | 注释 |
|------|------|------|
| openid | String | 会议发起人的id |
| title | String | 会议标题 |
| content | String | 会议内容 |
| meetingPlace | String | 会议室地址 |
| startDate | Long | 会议开始时间戳 |
| endDate | Long | 会议结束时间戳 |
| roomId | String | 会议室id |
| noticeTimes | array(number) | 提醒时间(-1:不提醒、0:开始时间提醒、15:开始时间前15分钟提醒、60:开始时间前1小时提醒) |
| actors | array(string) | 协作人oid的集合 |
| type | String | 会议类型(null:普通会议、sign:线下签到类会议、voice:语音类会议) |
| meetingStatus | int | 会议状态(0:未完成、1:完成、2:删除) |
| doneTime | long | 会议完成时间戳 |

### 返回结果示例

```json
{
  "success": true,
  "errorCode": 0,
  "error": null,
  "data": [
    {
      "openid": "5a67e1e1e4b02f1de22a70a3",
      "type": "sign",
      "title": "测试会议",
      "content": "在京举行还很好",
      "meetingPlace": "云8会议室",
      "meetingStatus": 1,
      "readStatus": 1,
      "acceptStatus": 2,
      "personName": "张三",
      "doneTime": 1535569199741,
      "id": "5b86ed2fbeb7cc35af769eb8",
      "noticeTime": 0,
      "startDate": 1535558400000,
      "endDate": 1535644799999,
      "createDate": 1535569199741,
      "roomId": "xx",
      "roomOrderId": ""
    }
  ]
}
```

---

## 6. 按时间范围查询工作圈下会议

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/queryByRange?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| start | long | 是 | 开始时间戳 |
| end | long | 是 | 结束时间戳 |

### 请求示例

```json
{
  "start": 1533549600000,
  "end": 1533549600000
}
```

### 返回参数说明

| 参数 | 类型 | 注释 |
|------|------|------|
| openid | String | 会议发起人的id |
| title | String | 会议标题 |
| content | String | 会议内容 |
| meetingPlace | String | 会议室地址 |
| startDate | Long | 会议开始时间戳 |
| endDate | Long | 会议结束时间戳 |
| roomId | String | 会议室id |
| noticeTimes | array(number) | 提醒时间(-1:不提醒、0:开始时间提醒、15:开始时间前15分钟提醒、60:开始时间前1小时提醒) |
| actors | array(string) | 协作人oid的集合 |
| type | String | 会议类型(null:普通会议、sign:线下签到类会议、voice:语音类会议) |
| meetingStatus | int | 会议状态(0:未完成、1:完成、2:删除) |
| doneTime | long | 会议完成时间戳 |

### 返回结果示例

```json
{
  "success": true,
  "errorCode": 0,
  "error": null,
  "data": [
    {
      "openid": "5a67e1e1e4b02f1de22a70a3",
      "type": "sign",
      "title": "测试会议",
      "content": "在京举行还很好",
      "meetingPlace": "云8会议室",
      "meetingStatus": 1,
      "readStatus": 1,
      "acceptStatus": 2,
      "personName": "张三",
      "doneTime": 1535569199741,
      "id": "5b86ed2fbeb7cc35af769eb8",
      "noticeTime": 0,
      "startDate": 1535558400000,
      "endDate": 1535644799999,
      "createDate": 1535569199741,
      "roomId": "xx",
      "roomOrderId": ""
    }
  ]
}
```

---

## 7. 单个用户会议查询

**URL:** `https://im.zhongfu.net/gateway/cloudwork/meeting/queryByUser?accessToken=xxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| pageNum | Integer | 是 | 第几页,从1开始 |
| pageSize | Integer | 是 | 每页多少条 |
| openId | String | 是 | 人员oid |
| status | Integer | 否 | 状态(0未开始,1已结束,null所有) |

### 请求示例

```json
{
  "pageNum": 1,
  "pageSize": 10,
  "openId": "5a67e1e1e4b02f1de22a70a3",
  "status": 0
}
```

### 返回参数说明

| 参数 | 类型 | 注释 |
|------|------|------|
| id | String | 主键ID |
| openId | String | 发起人OID |
| personName | String | 发起人姓名 |
| title | String | 会议主题 |
| content | String | 内容 |
| createDate | long | 创建时间 |
| startDate | long | 开始时间 |
| endDate | long | 截止时间 |
| workStatus | int | 工作状态(0未完成,1已完成,2已删除) |
| doneTime | long | 完成时间 |
| cancelTime | long | 取消时间 |
| record | boolean | 是否提交了会议纪要 |
| currentActor | MeetingActorVo | 当前用户信息 |
| agent | string | 代建人oid |

### 返回结果示例

```json
{
  "data": [
    {
      "cancelTime": 0,
      "content": "test",
      "createDate": 1608280477189,
      "currentActor": {
        "doneTime": 1608284040039,
        "openId": "5fd738d3e4b002b997549efd",
        "workSource": "1",
        "workStatus": 1
      },
      "doneTime": 1608284040080,
      "endDate": 1608284029057,
      "id": "5fdc699daf0cab00011be447",
      "openId": "5fd738d3e4b002b997549efd",
      "personName": "刘琳",
      "record": false,
      "startDate": 1608284029057,
      "title": "test",
      "workStatus": 1
    }
  ],
  "errorCode": 0,
  "success": true
}
```

---

## 8. 查询该工作圈空闲的会议室

**URL:** `https://im.zhongfu.net/api/roomBook/third/freeRooms?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| openId | String | 是 | 预约人员信息openId |
| startTime | long | 是 | 开始时间戳 |
| endTime | long | 是 | 结束时间戳 |
| pageIndex | Integer | 否 | 页码,默认1 |
| pageSize | Integer | 否 | 每页条数,默认50 |

### 请求示例

```json
{
  "openId": "fsdfsfdfdsfsdfdsfewfaga",
  "startTime": 1538121600000,
  "endTime": 1538125200000,
  "pageIndex": 1,
  "pageSize": 50
}
```

### 返回结果示例

```json
{
  "success": true,
  "errorCode": 0,
  "error": "",
  "data": [
    {
      "note": "小猪佩",
      "roomDetail": "啊啊啊啊啊啊",
      "tagId": null,
      "limitCount": 99999999,
      "approve": true,
      "roomId": "5c121cfd7453ed63750a9767",
      "roomName": "冥王星1号"
    }
  ]
}
```

---

## 9. 查询某个会议的与会人

**URL:** `https://im.zhongfu.net/api/roomBook/third/getActors?accessToken=xxxx`

**HTTP请求方法:** POST

**Content-Type:** `application/json`

### 请求参数

| 参数 | 类型 | 是否必须 | 注释 |
|------|------|----------|------|
| orderId | String | 是 | 会议订单id |

### 请求示例

```json
{
  "orderId": "fsdfsfdfdsfsdfdsfewfaga"
}
```

### 返回结果示例

```json
{
  "success": true,
  "errorCode": 0,
  "error": "",
  "data": [
    {
      "openId": "5c32b90b84aef86b358bc9cc",
      "headerUrl": "http://192.168.22.144/space/c/photo/load?id=54f7b6b116b2e39217000002",
      "userName": "陈*波"
    },
    {
      "openId": "5b652863e4b0689c4f38b1d3",
      "headerUrl": "http://192.168.22.144/space/c/photo/load?id=5b602f57b6238e0c44043f51",
      "userName": "陈*璐"
    }
  ]
}
```