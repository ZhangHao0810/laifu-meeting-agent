# FUXIN / 中孚内部系统 API 文档

## 接口：查询人员信息（getCloudUserInfo）

> [!IMPORTANT]
> **最重要的数据字段**（用于通讯录）：
> - **NAME** - 姓名
> - **CODE** - 工号
> - **ORG_PATH_NAME** - 部门
> - **EMAIL** - 邮箱
> - **PHONE** - 电话
> - **BASE_NAME** - Base地
> - **IM_OPEN_ID** - IM开放ID

**接口用途**  
根据人员 code（工号/员工编号）查询云端用户详细信息（包含个人信息、入职信息、联系方式、银行卡等）。

**请求方法**：POST  
**请求地址**：  
`http://10.108.135.90:9092/api/getCloudUserInfo`  
（内网地址，仅限公司网络访问）

**Content-Type**：`application/json`

### 请求参数（Body）

| 字段   | 类型   | 必填 | 说明                     | 示例值    |
|--------|--------|------|--------------------------|-----------|
| code   | string | 是   | 员工编号 / 工号          | "14919"   |

**请求示例**

```json
{
  "code": "14919"
}
```

### 响应示例（成功）

```json
{
  "content": [
    {
      "CODE": "14919",
      "NAME": "张三",
      "PINYIN": "zhangsan",
      "SEX_NAME": "男",
      "BIRTH": "1997-09-11",
      "ID_NUM": "3711211981091310219",
      "NATION_NAME": "汉族",
      "NATION": "01",
      "EMAIL": "zhangsanc@zhongfu.net",
      "PHONE": "18305412160",
      "ORG_PATH_NAME": "公司\\中孚安全技术有限公司\\业务中台\\AI平台与应用产品研发中心",
      "BASE_NAME": "济南市",
      "ATTEND_ADDRESS": "370100",
      "CURRENT_RESIDENCE": "山东省济南市历下区龙湖天奕",
      "REGISTERED_RESIDENCE_NAME": null,
      "EDU_TALLEST_NAME": "硕士研究生",
      "BANK_CORR_NUM": "30441042716",
      "CREATE_TIME": "2022-04-24 08:38:31",
      "M_LAST_MODIFIED_AT": "2026-01-23 10:33:23",
      "M_LAST_MODIFIED_BY": "admin",
      "IS_ENABLE": "1",
      "EMP_STATUS": "001",
      "POLITICS_STATUS": "01",
      "M_SECURITY_LEVEL": "1",
      "IM_OPEN_ID": "644db4447e4b00d5d7f029ee2",
      "ORG_ID": "2013695808098356143",
      "M_DATA_VERSION": "459",
      "M_DATA_STATE": "0",
      "M_IS_FROM": "mdm::manual",
      "M_CREATED_BY": "admin",
      "M_CREATED_DEPT": null,
      "MENTOR": null,
      "PAYROLL_DATE": null,
      "PARTICIPATE_IN_DATE": "2022-06-30",
      "EDU_ONE": "003",
      "SORT": "002",
      "ORG_CODE": "EDU_TALLEST",
      "JID": "11003",
      "M_MODEL_ID": "c693a010-fbb0-af875-01ce84be1bc1"
    }
  ],
  "message": "Api access succeeded",
  "records": 1,
  "successFlag": true
}

### 响应字段说明

#### 核心字段（通讯录必需）

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| **NAME** | **姓名** | "张三" | ⭐ 核心字段 |
| **CODE** | **工号** | "14919" | ⭐ 核心字段 / 查询依据 |
| **ORG_PATH_NAME** | **部门** | "公司\\中孚安全技术有限公司\\业务中台\\AI平台与应用产品研发中心" | ⭐ 核心字段 / 完整部门路径 |
| **EMAIL** | **邮箱** | "zhangsanc@zhongfu.net" | ⭐ 核心字段 |
| **PHONE** | **电话** | "18305412160" | ⭐ 核心字段 |
| **BASE_NAME** | **Base地** | "济南市" | ⭐ 核心字段 |
| **IM_OPEN_ID** | **IM开放ID** | "644db4447e4b00d5d7f029ee2" | ⭐ 核心字段 |

#### 其他字段

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| SEX_NAME | 性别 | "男" | |
| BIRTH | 出生日期 | "1992-01-11" | |
| ID_NUM | 身份证号 | "3711211981091310219" | 脱敏使用 |
| successFlag | 是否成功 | true | |
| records | 返回记录数 | 1 | 通常为 0 或 1 |

### 常见状态与处理

- `successFlag: true` + `records: 1` → 查询成功
- `successFlag: true` + `records: 0` → 未找到该工号人员
- `successFlag: false` → 接口异常,查看 `message` 字段
- 非 200 状态码 → 网络/服务问题(超时、认证失败等)

### 注意事项

- 此接口为内网接口,仅限公司网络或 VPN 访问
- 响应中包含大量敏感信息(身份证、银行卡、手机号等),请严格按照公司数据安全规范使用和存储
- 建议仅查询必要字段,后续可与开发沟通支持按需返回字段
- `code` 一般为字符串格式,建议统一传字符串避免类型问题

---

**文档更新时间**: 2026-02-05