# FUXIN / 中孚内部系统 API 文档

## 目录

1. [查询人员信息（getCloudUserInfo）](#接口查询人员信息getcllouduserinfo)
2. [查询部门信息（getDepartmentInfo）](#接口查询部门信息getdepartmentinfo)

---

## 接口：查询人员信息（getCloudUserInfo）

> [!IMPORTANT]
> **最重要的数据字段**（用于通讯录）：
> - **NAME** - 姓名
> - **CODE** - 工号
> - **ORG_PATH_NAME** - 部门
> - **EMAIL** - 邮箱
> - **PHONE** - 电话
> - **BASE_NAME** - Base地
> - **IM_OPEN_ID** - IM开放ID

**接口用途**  
根据人员 code（工号/员工编号）查询云端用户详细信息（包含个人信息、入职信息、联系方式、银行卡等）。

**请求方法**：POST  
**请求地址**：  
`http://10.108.135.90:9092/api/getCloudUserInfo`  
（内网地址，仅限公司网络访问）

**Content-Type**：`application/json`

### 请求参数（Body）

| 字段   | 类型   | 必填 | 说明                     | 示例值    |
|--------|--------|------|--------------------------|-----------|
| code   | string | 是   | 员工编号 / 工号          | "14919"   |

**请求示例**

```json
{
  "code": "14919"
}
```

### 响应示例（成功）

```json
{
  "content": [
    {
      "CODE": "14919",
      "NAME": "张三",
      "PINYIN": "zhangsan",
      "SEX_NAME": "男",
      "BIRTH": "1987-09-11",
      "ID_NUM": "3711211981091310219",
      "NATION_NAME": "汉族",
      "NATION": "01",
      "EMAIL": "zhangsanc@zhongfu.net",
      "PHONE": "18305412160",
      "ORG_PATH_NAME": "公司\\中孚安全技术有限公司\\业务中台\\AI平台与应用产品研发中心",
      "BASE_NAME": "济南市",
      "ATTEND_ADDRESS": "370100",
      "CURRENT_RESIDENCE": "山东省济南市历下区龙湖天奕",
      "REGISTERED_RESIDENCE_NAME": null,
      "EDU_TALLEST_NAME": "硕士研究生",
      "BANK_CORR_NUM": "30441042716",
      "CREATE_TIME": "2022-04-24 08:38:31",
      "M_LAST_MODIFIED_AT": "2026-01-23 10:33:23",
      "M_LAST_MODIFIED_BY": "admin",
      "IS_ENABLE": "1",
      "EMP_STATUS": "001",
      "POLITICS_STATUS": "01",
      "M_SECURITY_LEVEL": "1",
      "IM_OPEN_ID": "644db4447e4b00d5d7f029ee2",
      "ORG_ID": "2013695808098356143",
      "M_DATA_VERSION": "459",
      "M_DATA_STATE": "0",
      "M_IS_FROM": "mdm::manual",
      "M_CREATED_BY": "admin",
      "M_CREATED_DEPT": null,
      "MENTOR": null,
      "PAYROLL_DATE": null,
      "PARTICIPATE_IN_DATE": "2022-06-30",
      "EDU_ONE": "003",
      "SORT": "002",
      "ORG_CODE": "EDU_TALLEST",
      "JID": "11003",
      "M_MODEL_ID": "c693a010-fbb0-af875-01ce84be1bc1"
    }
  ],
  "message": "Api access succeeded",
  "records": 1,
  "successFlag": true
}
```

### 响应字段说明

#### 核心字段（通讯录必需）

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| **NAME** | **姓名** | "张三" | ⭐ 核心字段 |
| **CODE** | **工号** | "14919" | ⭐ 核心字段 / 查询依据 |
| **ORG_PATH_NAME** | **部门** | "公司\\中孚安全技术有限公司\\业务中台\\AI平台与应用产品研发中心" | ⭐ 核心字段 / 完整部门路径 |
| **EMAIL** | **邮箱** | "zhangsanc@zhongfu.net" | ⭐ 核心字段 |
| **PHONE** | **电话** | "18305412160" | ⭐ 核心字段 |
| **BASE_NAME** | **Base地** | "济南市" | ⭐ 核心字段 |
| **IM_OPEN_ID** | **IM开放ID** | "644db4447e4b00d5d7f029ee2" | ⭐ 核心字段 / 用于IM系统关联 |

#### 其他字段

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| PINYIN | 拼音 | "zhangsan" | |
| SEX_NAME | 性别 | "男" | |
| BIRTH | 生日 | "1997-09-11" | |
| ID_NUM | 身份证号 | "3711211981091310219" | |
| NATION_NAME | 民族 | "汉族" | |
| NATION | 民族代码 | "01" | |
| ATTEND_ADDRESS | 考勤地址代码 | "370100" | |
| CURRENT_RESIDENCE | 现居住地 | "山东省济南市历下区龙湖天奕" | |
| REGISTERED_RESIDENCE_NAME | 户籍地 | null | |
| EDU_TALLEST_NAME | 最高学历 | "硕士研究生" | |
| BANK_CORR_NUM | 银行卡号 | "30441042716" | |
| CREATE_TIME | 创建时间 | "2022-04-24 08:38:31" | |
| M_LAST_MODIFIED_AT | 最后修改时间 | "2026-01-23 10:33:23" | |
| M_LAST_MODIFIED_BY | 最后修改人 | "admin" | |
| IS_ENABLE | 是否启用 | "1" | 1=启用 |
| EMP_STATUS | 员工状态 | "001" | |
| POLITICS_STATUS | 政治面貌 | "01" | |
| M_SECURITY_LEVEL | 安全级别 | "1" | |
| ORG_ID | 部门ID | "2013695808098356143" | |
| M_DATA_VERSION | 数据版本 | "459" | |
| M_DATA_STATE | 数据状态 | "0" | |
| M_IS_FROM | 数据来源 | "mdm::manual" | |
| M_CREATED_BY | 创建人 | "admin" | |
| M_CREATED_DEPT | 创建部门 | null | |
| MENTOR | 导师 | null | |
| PAYROLL_DATE | 工资日期 | null | |
| PARTICIPATE_IN_DATE | 参加工作日期 | "2022-06-30" | |
| EDU_ONE | 教育代码 | "003" | |
| SORT | 排序 | "002" | |
| ORG_CODE | 组织代码 | "EDU_TALLEST" | |
| JID | 职位ID | "11003" | |
| M_MODEL_ID | 模型ID | "c693a010-fbb0-af875-01ce84be1bc1" | |

---

## 接口：查询部门信息（getDepartmentInfo）

> [!IMPORTANT]
> **最重要的数据字段**：
> - **ORG_ID** - 部门ID（唯一标识）
> - **ORG_NAME** - 部门名称
> - **ORG_PATH_NAME** - 部门完整路径
> - **PARENT_ORG_ID** - 父部门ID
> - **MEMBER_IDS** - 部门成员ID列表
> - **MEMBER_CODES** - 部门成员工号列表

**接口用途**  
根据部门 ID 或部门名称查询部门详细信息，包括部门基本信息、层级关系、部门内成员列表等。

**请求方法**：POST  
**请求地址**：  
`http://10.108.135.90:9092/api/getDepartmentInfo`  
（内网地址，仅限公司网络访问）

**Content-Type**：`application/json`

### 请求参数（Body）

| 字段   | 类型   | 必填 | 说明                     | 示例值    |
|--------|--------|------|--------------------------|-----------|
| orgId  | string | 否   | 部门ID（与orgName二选一） | "2013695808098356143" |
| orgName | string | 否  | 部门名称（与orgId二选一） | "AI平台与应用产品研发中心" |

> [!TIP]
> **参数说明**：`orgId` 和 `orgName` 至少传一个，优先使用 `orgId` 查询（更精确）。

**请求示例**

```json
{
  "orgId": "2013695808098356143"
}
```

或

```json
{
  "orgName": "AI平台与应用产品研发中心"
}
```

### 响应示例（成功）

```json
{
  "content": [
    {
      "ORG_ID": "2013695808098356143",
      "ORG_NAME": "AI平台与应用产品研发中心",
      "ORG_CODE": "DEPT_AI_001",
      "ORG_PATH_NAME": "公司\\中孚安全技术有限公司\\业务中台\\AI平台与应用产品研发中心",
      "PARENT_ORG_ID": "2013695808098356100",
      "PARENT_ORG_NAME": "业务中台",
      "ORG_LEVEL": "4",
      "ORG_TYPE": "DEPT",
      "MANAGER_CODE": "10001",
      "MANAGER_NAME": "李经理",
      "MANAGER_IM_OPEN_ID": "644db4447e4b00d5d7f028888",
      "MEMBER_COUNT": 25,
      "MEMBER_IDS": [
        "644db4447e4b00d5d7f029ee2",
        "644db4447e4b00d5d7f029ee3",
        "644db4447e4b00d5d7f029ee4"
      ],
      "MEMBER_CODES": [
        "14919",
        "14920",
        "14921"
      ],
      "MEMBER_NAMES": [
        "张三",
        "李四",
        "王五"
      ],
      "CREATE_TIME": "2020-01-15 09:00:00",
      "M_LAST_MODIFIED_AT": "2026-01-20 14:30:00",
      "IS_ENABLE": "1",
      "SORT_ORDER": "10"
    }
  ],
  "message": "Api access succeeded",
  "records": 1,
  "successFlag": true
}
```

### 响应字段说明

#### 核心字段（部门基本信息）

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| **ORG_ID** | **部门ID** | "2013695808098356143" | ⭐ 核心字段 / 唯一标识 |
| **ORG_NAME** | **部门名称** | "AI平台与应用产品研发中心" | ⭐ 核心字段 |
| **ORG_PATH_NAME** | **部门完整路径** | "公司\\中孚安全技术有限公司\\业务中台\\AI平台与应用产品研发中心" | ⭐ 核心字段 |
| **PARENT_ORG_ID** | **父部门ID** | "2013695808098356100" | ⭐ 核心字段 / 用于构建组织树 |
| **PARENT_ORG_NAME** | **父部门名称** | "业务中台" | ⭐ 核心字段 |

#### 部门成员信息

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| **MEMBER_COUNT** | **成员数量** | 25 | ⭐ 核心字段 |
| **MEMBER_IDS** | **成员IM_OPEN_ID列表** | ["644db4447e4b00d5d7f029ee2", ...] | ⭐ 核心字段 / 数组 |
| **MEMBER_CODES** | **成员工号列表** | ["14919", "14920", "14921"] | ⭐ 核心字段 / 数组 |
| **MEMBER_NAMES** | **成员姓名列表** | ["张三", "李四", "王五"] | ⭐ 核心字段 / 数组 |

#### 部门负责人信息

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| MANAGER_CODE | 部门负责人工号 | "10001" | |
| MANAGER_NAME | 部门负责人姓名 | "李经理" | |
| MANAGER_IM_OPEN_ID | 部门负责人IM_OPEN_ID | "644db4447e4b00d5d7f028888" | |

#### 其他字段

| 字段 | 含义 | 示例值 | 备注 |
|------|------|--------|------|
| ORG_CODE | 部门代码 | "DEPT_AI_001" | |
| ORG_LEVEL | 部门层级 | "4" | 数字越大层级越深 |
| ORG_TYPE | 部门类型 | "DEPT" | DEPT=部门, COMPANY=公司 |
| CREATE_TIME | 创建时间 | "2020-01-15 09:00:00" | |
| M_LAST_MODIFIED_AT | 最后修改时间 | "2026-01-20 14:30:00" | |
| IS_ENABLE | 是否启用 | "1" | 1=启用, 0=禁用 |
| SORT_ORDER | 排序顺序 | "10" | |

### 常见状态与处理

- `successFlag: true` + `records: 1` → 查询成功
- `records: 0` → 未找到对应部门
- `MEMBER_IDS` 数组 → 可用于批量查询部门成员详细信息
- `PARENT_ORG_ID` → 可用于向上查询父部门，构建完整组织树
- `ORG_LEVEL` → 可用于判断部门层级深度

**文档更新时间**: 2026-02-05